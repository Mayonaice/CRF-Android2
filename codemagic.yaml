workflows:
  android-build:
    name: Android Debug Build
    max_build_duration: 60
    instance_type: mac_mini_m1
    environment:
      flutter: 3.32.5
      java: 17
    scripts:
      - name: Build APK
        script: |
          # Create local.properties
          echo "flutter.sdk=$HOME/programs/flutter" > android/local.properties
          
          # Get dependencies
          flutter pub get
          
          # Clean the project
          flutter clean
          
          # Build debug APK
          flutter build apk --debug
    artifacts:
      - build/app/outputs/flutter-apk/app-debug.apk 